!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("jsSHA"),require("@angular/core"),require("@angular/common"),require("@angular/common/http")):"function"==typeof define&&define.amd?define("dialogue-wise",["exports","jsSHA","@angular/core","@angular/common","@angular/common/http"],t):t(e["dialogue-wise"]={},e.jsSHA,e.ng.core,e.ng.common,e.ng.common.http)}(this,function(e,n,t,c,p){"use strict";var o=function(){function e(e){this.apiBaseUrl="https://api.dialoguewise.com/api/",this.httpClient=e}return e.prototype.getDialogue=function(e){var t=new c.DatePipe("en-US"),o=new Date((new Date).toUTCString()),n=t.transform(new Date(o),"dd/MM/yyyy hh:mm:ss a","+0000"),r=e.isPilot?"&isPilotVersion=true":"",i=this.apiBaseUrl+"dialogue/getdialogue?dialogueName="+e.dialogueName+r,a="/api/dialogue/getdialogue:"+n,l=this.getHash(e.apiKey,a),s=e.emailHash+":"+l;console.log(o),console.log(n),console.log(s);var u={headers:new p.HttpHeaders({"Content-Type":"application/json",Timestamp:n,Authentication:s,"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"*","Access-Control-Allow-Headers":"Content-Type, Timestamp, Authentication"})};return this.httpClient.post(i,this.mapToString(e.variableList),u)},e.prototype.getHash=function(e,t){var o=new n("SHA-256","TEXT");return o.setHMACKey(e,"TEXT"),o.update(t),o.getHMAC("B64")},e.prototype.mapToString=function(e){return JSON.stringify(Array.from(e.entries()).reduce(function(e,t){var o=function s(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var n,r,i=o.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)a.push(n.value)}catch(l){r={error:l}}finally{try{n&&!n.done&&(o=i["return"])&&o.call(i)}finally{if(r)throw r.error}}return a}(t,2),n=o[0],r=o[1];return e[n]=r,e},{}))},e.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:p.HttpClient}]},e.ngInjectableDef=t.defineInjectable({factory:function(){return new e(t.inject(p.HttpClient))},token:e,providedIn:"root"}),e}(),r=function a(){},i=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[p.HttpClientModule],declarations:[],exports:[],providers:[c.DatePipe,o]}]}],e}();e.DialogueWiseService=o,e.DialogueWiseRequest=r,e.DialogueWiseModule=i,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=dialogue-wise.umd.min.js.map